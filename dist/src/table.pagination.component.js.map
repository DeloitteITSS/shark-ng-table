{"version":3,"sources":["../../src/table.pagination.component.ts"],"names":[],"mappings":"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","file":"table.pagination.component.js","sourceRoot":"","sourcesContent":["import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges, ElementRef } from '@angular/core';\r\nimport { Page } from './page';\r\n\r\n\r\nexport class SharkTablePaginationComponent implements OnChanges {\r\n\r\n  pageCount: number[] = [];\r\n\r\n  first = false;\r\n  last = false;\r\n\r\n  previous = false;\r\n  next = false;\r\n\r\n  displayedPages: number[] = [];\r\n\r\n  \r\n  page: Page;\r\n\r\n  \r\n  paginationChange = new EventEmitter<number>();\r\n\r\n  private lastButton;\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.hasOwnProperty('page') && this.page) {\r\n      this.pageCount = Array.from(Array(this.page.totalPages), (x, i) => i);\r\n\r\n      this.first = this.page.number === 0;\r\n      this.last = this.page.number === this.pageCount.length - 1;\r\n      this.previous = !this.first;\r\n      this.next = !this.last;\r\n\r\n      if (this.pageCount.length > 3) {\r\n        if (this.first) {\r\n          this.displayedPages = [0, 1, 2];\r\n        } else if (this.last) {\r\n          this.displayedPages = [ this.page.number - 2, this.page.number - 1, this.page.number ];\r\n        } else {\r\n          this.displayedPages = [ this.page.number - 1, this.page.number, this.page.number + 1];\r\n        }\r\n      } else {\r\n        this.displayedPages = this.pageCount;\r\n      }\r\n\r\n      // fix focus when a button disappears\r\n      if (this.lastButton) {\r\n        setTimeout(() => {\r\n          if (!this.elementRef.nativeElement.ownerDocument.getElementById(this.lastButton)) {\r\n            const activeButton = this.elementRef.nativeElement.ownerDocument.getElementById('active-button');\r\n            if (activeButton) {\r\n              activeButton.focus();\r\n            }\r\n          }\r\n\r\n          this.lastButton = undefined;\r\n        }, 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  changePage(pageNo: number): void {\r\n    this.lastButton = this.elementRef.nativeElement.ownerDocument.activeElement.id;\r\n    this.paginationChange.emit(pageNo);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'shark-table-pagination',\r\n  template: `\r\n      <div class=\"pagination-wrapper\" *ngIf=\"pageCount.length > 1\">\r\n          <div class=\"pagination\">\r\n              <button id=\"first-page-button\" *ngIf=\"!first\" (click)=\"changePage(0)\" type=\"button\" class=\"fa fa-angle-double-left\">\r\n                <span class=\"screen-reader-button-label\">First Page</span>\r\n              </button>\r\n              <button id=\"previous-page-button\" *ngIf=\"previous\" (click)=\"changePage(page.number - 1)\" type=\"button\" class=\"fa fa-angle-left\">\r\n                <span class=\"screen-reader-button-label\">Previous Page</span>\r\n              </button>\r\n            \r\n              <ng-container *ngFor=\"let num of displayedPages\">\r\n                <button \r\n                  [attr.id]=\"num === page.number ? 'active-button' : null\"\r\n                  [ngClass]=\"{'active': num === page.number, 'inactive': num!== page.number }\"\r\n                  [attr.aria-current]=\"num === page.number ? 'true' : null\"\r\n                  [attr.aria-disabled]=\"num === page.number ? 'true' : null\"\r\n                  (click)=\"changePage(num)\" type=\"button\">\r\n                  <span class=\"screen-reader-button-label\">Page</span>\r\n                  {{ num + 1 }}\r\n                </button>\r\n              </ng-container>\r\n            \r\n              <button id=\"next-page-button\" *ngIf=\"next\" (click)=\"changePage(page.number + 1)\" type=\"button\" class=\"fa fa-angle-right\">\r\n                <span class=\"screen-reader-button-label\">Next Page</span>\r\n              </button>\r\n              <button id=\"last-page-button\" *ngIf=\"!last\" (click)=\"changePage(pageCount.length - 1)\" type=\"button\" class=\"fa fa-angle-double-right\">\r\n                <span class=\"screen-reader-button-label\">Last Page</span>\r\n              </button>\r\n          </div>\r\n      </div>\r\n  `\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'page': [{ type: Input },],\n'paginationChange': [{ type: Output },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}